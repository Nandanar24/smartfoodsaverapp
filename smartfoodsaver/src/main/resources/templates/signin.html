<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--<body>-->
<body th:replace="~{_layout :: content(~{::section})}">
<section class="content-card">
  <h2 class="card-title">Sign In</h2>

  <!-- Spring Security messages -->
  <div th:if="${param.error}" class="form-alert">Invalid email or password.</div>
  <div th:if="${param.logout}" class="form-alert success">You have been signed out.</div>
  <div th:if="${param.registered}" class="form-alert success">Account created. Please sign in.</div>

  <!-- Login form -->
  <form th:action="@{/login}" method="post" novalidate>
    <div class="form-row">
      <label for="username">Email</label>
      <input type="text" id="username" name="username" maxlength="100" required />
    </div>

    <div class="form-row">
      <label for="password">Password</label>
      <input type="password" id="password" name="password" minlength="6" maxlength="20" required />
    </div>

    <!-- CSRF token (exactly once) -->
    <div th:if="${_csrf != null}">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary">Sign In</button>
    </div>

    <div class="form-row form-row-inline">
      <label></label>
      <label class="checkbox">
        <input type="checkbox" name="remember-me" />
        Remember me
      </label>
    </div>

    <p class="alt-link">New here? <a th:href="@{/register}">Create an account</a></p>
  </form>
</section>
</body>
</html>
